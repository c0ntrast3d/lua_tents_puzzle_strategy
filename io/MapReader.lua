---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by c0ntrast3d.
--- DateTime: 2019-06-13 15:04
---

local M = {}


local StringUtils = require("utils.StringUtils")

--[[
    - check whether file exists and it's readable
    - b' at the end is needed in some systems to open the file in binary mode
]]

function map(func, tbl)
    local newtbl = {}
    for i,v in pairs(tbl) do
        newtbl[i] = func(v)
    end
    return newtbl
end


local function fileExists(path)
    local file = io.open(path, "rb")
    if file then
        file:close()
    end
    return file ~= nil
end

function M.parse(path)
    assert(fileExists(path), "File " .. path .. " does not exist")
    for line in io.lines(path) do
        print(line .. " length " .. #line)
        local currentLine = {}
        print(table.unpack(StringUtils.split(line, "[^,]*")))
--[[        for char in assert(string.gmatch(line, '%d')) do
            table.insert(currentLine, char)
        end]]
        print(table.unpack(currentLine))
    end -- for line in io.lines(path) do
end

return M
